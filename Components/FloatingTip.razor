<div class="floating-tip @(isVisible ? "" : "hidden")" style="left:@(X)px; top:@(Y)px;">
    @Text
</div>

@code {
    [Parameter] public int X { get; set; }
    [Parameter] public int Y { get; set; }

    private bool isVisible = false;
    public string Text { get; set; } = "";

    public async Task ShowTipAsync(string text, int? x = null, int? y = null)
    {
        if (x.HasValue) X = x.Value;
        if (y.HasValue) Y = y.Value;

        Text = text;
        isVisible = true;
        StateHasChanged();

        await Task.Delay(2000);

        isVisible = false;
        StateHasChanged();
    }

    public void UpdateTipPosition(int x, int y)
    {
        X = (int)x + 10;
        Y = (int)y + 10;
        StateHasChanged();
    }
}